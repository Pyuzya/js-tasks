<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        //1
        function camelize(str) {
            return str.split('-').map((word, index) =>
                index == 0 ? word :
                word[0].toUpperCase() + word.slice(1)).join('');
        }

        //2
        function filterRange(arr, a, b) {
            return arr.filter(item => (a <= item && item <= b));
        }
        let arr = [5, 3, 8, 1];

        let filtered = filterRange(arr, 1, 4);
        console.log(filtered);

        //3
        function filterRangeInPlace(arr, a, b) {

            for (let i = 0; i < arr.length; i++) {
                let val = arr[i];
                if (val < a || val > b) {
                    arr.splice(i, 1);
                    i--;
                }
            }

        }
        filterRangeInPlace(arr, 1, 4)
        console.log(arr)

        //4
        let arr2 = [5, 2, 1, -10, 8];

        arr2.sort((a, b) => b - a);
        console.log(arr2);

        //5 
        function copySorted(arr3) {
            return arr3.slice().sort();
        }

        let arr3 = ["HTML", "JavaScript", "CSS"];

        let sorted = copySorted(arr3);
        console.log(sorted);

        //6
        function Calculator() {

            this.methods = {
                "-": (a, b) => a - b,
                "+": (a, b) => a + b
            };

            this.calculate = function (str) {

                let split = str.split(' '),
                    a = +split[0],
                    op = split[1],
                    b = +split[2]

                if (!this.methods[op] || isNaN(a) || isNaN(b)) {
                    return NaN;
                }

                return this.methods[op](a, b);
            }

            this.addMethod = function (name, func) {
                this.methods[name] = func;
            };
        }

        //7
        let vasya = {
            name: "Вася",
            age: 25
        };
        let petya = {
            name: "Петя",
            age: 30
        };
        let masha = {
            name: "Маша",
            age: 28
        };

        let users = [vasya, petya, masha];

        let names = users.map(item => item.name);

        console.log(names);

        //8 
        let grisha = {
            name: "Гриша",
            surname: "Пупкин",
            id: 1
        };
        let sasha = {
            name: "Саша",
            surname: "Иванов",
            id: 2
        };
        let dasha = {
            name: "Даша",
            surname: "Петрова",
            id: 3
        };

        let userss = [grisha, sasha, dasha];

        let usersMapped = userss.map(user => ({
            fullName: `${user.name} ${user.surname}`,
            id: user.id
        }));


        console.log(usersMapped[0].fullName);

        //9
        function sortByAge(arr) {
            arr.sort((a, b) => a.age > b.age ? 1 : -1);
        }

        sortByAge(users)

        console.log(users);

        //10
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        let arr4 = [1, 2, 3];
        shuffle(arr4);
        console.log(arr4);

        //11 
        function getAverageAge(users) {
            return users.reduce((prev, user) => prev + user.age, 0) / users.length;
        }

        console.log(getAverageAge(users));

        //12
        function unique(arr) {
            let result = [];

            for (let str of arr) {
                if (!result.includes(str)) {
                    result.push(str);
                }
            }

            return result;
        }

        let strings = [
            "кришна", "кришна", "харе", "харе",
            "харе", "харе", "кришна", "кришна", ":-O"
        ];
        console.log(unique(strings));

        //13
        function groupById(array) {
            return array.reduce((obj, value) => {
                obj[value.id] = value;
                return obj;
            }, {})
        }
        let usersss = [{
                id: 'john',
                name: "John Smith",
                age: 20
            },
            {
                id: 'ann',
                name: "Ann Smith",
                age: 24
            },
            {
                id: 'pete',
                name: "Pete Peterson",
                age: 31
            },
        ];

        let usersById = groupById(usersss);
        console.log(usersById);
    </script>
</head>

<body>

</body>

</html>